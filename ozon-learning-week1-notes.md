# interace
–ï—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏) —É –æ–±—ä–µ–∫—Ç–∞, –æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ - –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

var x interface{} = "hello"
–Ω–æ –ª—É—á—à–µ
var x any = 42

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ–∞—É–Ω–∫—Ü–∏—é –∏ –≤—ã–∑—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏—é-–º–µ—Ç–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. 

–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø:
var x interface{} = "hello"

    // –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞
    str, ok := x.(string)
    if ok {
        fmt.Println("String:", str)
    }

# interface & generics

    func PrintSlice(slice []interface{}) {
        for _, v := range slice {
            fmt.Println(v)
        }
    }
    
    func PrintSlice[T any](slice []T) {
        for _, v := range slice {
            fmt.Println(v)
        }
    }







# map

## –ë–∞–∑–∞

from go 1.24 –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è swissmaps
–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–æ—Å—Ç (–¥–æ —ç—Ç–æ–≥–æ —É–¥–≤–æ–µ–Ω–∏–µ) –∏ —Ä–µ–∂–µ —Ä–µ—Ö–µ—à.

–∫–∞–∫ std::unordered_map –≤ C++20

## –ù—é–∞–Ω—Å
map[int64]struct{} requires 16 bytes per slot #71368

[int64 -> bool] = 16 –±–∞–π—Ç 
[int64 -> struct{}] = 16 –±–∞–π—Ç (–∏–∑-–∑–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)


go 1.23 –±—ã–ª–æ 8 –±–∞–π—Ç
[int64 -> struct{}] = 8 –±–∞–π—Ç (—Ç–æ–ª—å–∫–æ –∫–ª—é—á)
[int64 -> bool] = 9 –±–∞–π—Ç (8 + 1)

–ø–æ—Ç–æ–∫–æ-–æ–ø–∞—Å–Ω–æ.

–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ –Ω–∞ —Ö–µ—à (–∫–æ–≥–¥–∞ –∫–ª—é—á–∏ –ø–æ–¥–±–∏—Ä–∞—é—Ç—Å—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç –∏ –∏–∑-–∑–∞ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ 
–ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç: –≤–º–µ—Å—Ç–æ o(1) —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è o(N). SipHash+random –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –¥–µ–ª–∞–µ—Ç –∞—Ç–∞–∫—É –ø–æ—á—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π, –Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫
–Ω–µ–ø—Ä–µ–¥–∑–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –ø–æ—Ä—è–¥–∫–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É (~= —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–∞ map)

*sync.Map* –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ —á—Ç–µ–Ω–∏—è—Ö (—Ç–∞–∫ –∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ map –≤–Ω—É—Ç—Ä–∏, –æ–¥–∏–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è, –¥—Ä—É–≥–æ–π –¥–ª—è —á—Ç–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏). 
–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –º–æ–∂–µ—Ç –∑–Ω–∞—Ç–Ω–æ —Ç–æ—Ä–º–æ–∑–∏—Ç—å –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö.


# –°–ª–∞–π—Å—ã –∏ —Å–∞–±—Å–ª–∞–π—Å—ã –≤ Go

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∞–±-—Å–ª–∞–π—Å–∞ –Ω–æ–≤—ã–π –ø–æ–ª—É—á—á–µ—Ç –Ω–æ–≤—ã–π capacity  –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ cap(src) - start, len(src) - start, —Ç–æ –µ—Å—Ç—å –∏ –¥–ª–∏–Ω–∞
–∏ –∫–∞–ø–∞—Å–∏—Ç–∏ —É–º–µ–Ω—å—à–∞—é—Ç—Å—è –Ω–∞ —Ç–æ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—á–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è _–æ—Ç –Ω–∞—á–∞–ª–∞_ –Ω–æ–≤—ã–π —Å–ª–∞–π—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–æ–≥–æ.

–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

slicen1 := []int{1, 2, 3, 4, 5}
subSlicen := slicen1[1:3]

–ü—Ä–∏ –∏–∑–º–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —Å–ª–∞–π—Å–∞, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏—é –ø–∞–º—è—Ç–∏ (on capacity increase) –¥–æ—á–µ—Ä–Ω–∏–π —Å–ª–∞–π—Å —Ç–µ—Ä—è–µ—Ç —Å–≤—è–∑—å —Å –∏—Å—Ö–æ–¥–Ω—ã–º.
–¢–æ –∂–µ —Å–∞–º–æ–µ –±—É–¥–µ—Ç –ø—Ä–∏ —Ä–æ—Å—Ç–µ cap —Å–ª–∞–π—Å–∞ - –æ–Ω –±—É–¥–µ—Ç —Ä–µ–∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞–Ω –∏ —Å–≤—è–∑—å —Å–æ —Å—Ç–∞—Ä—ã–º –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–∞.

cap —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è x2 –ø—Ä–∏ –º–∞–ª—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö (–¥–æ 1024)  –∏ ~1.25x –µ—Å–ª–∏ –±–æ–ª—å—à–µ.

–ü—Ä–∏ —Ä–æ—Å—Ç–µ –¥–æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è cap –¥–ª–∏–Ω—ã —Å–∞–±—Å–ª–∞–π—Å–∞ –æ–Ω –±—É–¥–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è (–∫–æ–Ω–µ—Ü —Å–∞–±—Å–ª–∞–π—Å–∞ –±—É–¥–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ –∏—Å—Ö–æ–¥–Ω–æ–º—É –º–∞—Å—Å–∏–≤—É),
–∏ –µ–≥–æ –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç —Å–æ–≤–º–µ—â–µ–Ω—ã —Å –∏—Å—Ö–æ–¥–Ω—ã–º —Å–ª–∞–π—Å–æ–º.

–ü–µ—Ä–µ–±–æ—Ä —Å–ª–∞–π—Å–∞ for _, el:=range slicen1 - –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é,
–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ:  for i, _ :=range slicen1 { slicen1[i]} 



##–ü–æ–¥—Ä–æ–±–Ω–µ–µ

## 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–±—Å–ª–∞–π—Å–∞
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ **—Å–∞–±—Å–ª–∞–π—Å–∞** –Ω–æ–≤—ã–π —Å—Ä–µ–∑ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤, —á—Ç–æ –∏ –∏—Å—Ö–æ–¥–Ω—ã–π, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ—é `len` –∏ `cap`:
- `len(newSlice) = end - start`
- `cap(newSlice) = cap(original) - start`
- **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**.

### –ü—Ä–∏–º–µ—Ä:
```go
slicen1 := []int{1, 2, 3, 4, 5}
subSlicen := slicen1[1:3] // {2, 3}
fmt.Println(len(subSlicen)) // 2
fmt.Println(cap(subSlicen)) // 4 (5 - 1)
```

## 2. –†–µ–∞–ª–ª–æ–∫–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
- –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä —Å–ª–∞–π—Å–∞ **–∏–∑–º–µ–Ω—è–µ—Ç—Å—è** –∏ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **—Ä–µ–∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `append()` –ø—Ä–µ–≤—ã—à–∞–µ—Ç `cap`), –¥–æ—á–µ—Ä–Ω–∏–π —Å–ª–∞–π—Å **—Ç–µ—Ä—è–µ—Ç —Å–≤—è–∑—å** —Å –∏—Å—Ö–æ–¥–Ω—ã–º.
- –ï—Å–ª–∏ `cap` —Å–ª–∞–π—Å–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, —Å–æ–∑–¥–∞—ë—Ç—Å—è **–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤**, –∞ —Å—Ç–∞—Ä—ã–π –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## 3. –†–æ—Å—Ç `cap`
**–ü—Ä–∞–≤–∏–ª–æ —Ä–æ—Å—Ç–∞ `cap` –≤ Go**:
- –ï—Å–ª–∏ `cap < 1024`, –æ–Ω —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤ **2 —Ä–∞–∑–∞**.
- –ï—Å–ª–∏ `cap ‚â• 1024`, –æ–Ω —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ **1.25x**.

### –ü—Ä–∏–º–µ—Ä:
```go
s := make([]int, 2, 2)
fmt.Println(cap(s)) // 2

s = append(s, 1) // –ü—Ä–µ–≤—ã—à–∞–µ—Ç cap=2 ‚Üí cap —É–≤–µ–ª–∏—á–∏—Ç—Å—è –¥–æ 4
fmt.Println(cap(s)) // 4

s = append(s, 2, 3, 4) // –ü—Ä–µ–≤—ã—à–∞–µ—Ç cap=4 ‚Üí cap —É–≤–µ–ª–∏—á–∏—Ç—Å—è –¥–æ 8
fmt.Println(cap(s)) // 8
```

## 4. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ `len` –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö `cap`
- –ï—Å–ª–∏ `append()` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `len` –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö `cap`, –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã **–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤**.

## 5. –ü–µ—Ä–µ–±–æ—Ä —Å–ª–∞–π—Å–∞
- `for _, el := range slicen1` ‚Äì –ø–µ—Ä–µ–¥–∞—ë—Ç **–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é**.
- –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ª–∞–π—Å–∞, **–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã**:
  ```go
  for i := range slicen1 {
      slicen1[i] = 99 // –ò–∑–º–µ–Ω–∏—Ç —Å–∞–º –º–∞—Å—Å–∏–≤
  }
  ```
- **–û—à–∏–±–∫–∞**: `for i, _ := range slicen1 { slicen1[i] }` ‚Äì —Ç—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ.

---

## üìå –ò—Ç–æ–≥
‚úÖ –°–∞–±—Å–ª–∞–π—Å **—Ä–∞–∑–¥–µ–ª—è–µ—Ç –º–∞—Å—Å–∏–≤** —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º.  
‚úÖ –ü—Ä–∏ **–ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ `cap`** —Å–æ–∑–¥–∞—ë—Ç—Å—è **–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤**.  
‚úÖ `cap` **—Ä–∞—Å—Ç—ë—Ç x2 –∏–ª–∏ ~1.25x**.  
‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `range` —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏**. üöÄ  
```

–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≤—Å—Ç–∞–≤–∏—Ç—å –≤ `README.md` –∏–ª–∏ –¥—Ä—É–≥—É—é Markdown-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é! üìÑ‚ú®
